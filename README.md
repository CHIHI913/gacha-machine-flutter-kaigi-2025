# ã‚¬ãƒãƒ£ãƒã‚·ãƒ³ã‚¢ãƒ—ãƒªï¼ˆFlutter Kaigi 2025ï¼‰

Flutter Kaigi 2025ã®ASSIGNãƒ–ãƒ¼ã‚¹ç”¨ã‚¬ãƒãƒ£ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚æ™¯å“ç®¡ç†ã¨ã‚¬ãƒãƒ£æŠ½é¸æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

- ğŸ° **ã‚¬ãƒãƒ£æŠ½é¸æ©Ÿèƒ½**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã§æ™¯å“ã‚’æŠ½é¸
- ğŸ“¦ **æ™¯å“ç®¡ç†**: æ™¯å“ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- ğŸ“Š **åœ¨åº«ç®¡ç†**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®åœ¨åº«æ•°è¡¨ç¤º
- ğŸ’¾ **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–**: LocalStorageã¾ãŸã¯Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å¯¾å¿œ
- ğŸŒ **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ**: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ¢ãƒ¼ãƒ‰ã§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã‚‚å‹•ä½œ

## Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æº

ã“ã®ã‚¢ãƒ—ãƒªã¯ã€æ™¯å“ãƒ‡ãƒ¼ã‚¿ã‚’Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ç®¡ç†ã§ãã¾ã™ã€‚

**ãƒ¡ãƒªãƒƒãƒˆ:**
- è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹ãƒ»ãƒ–ãƒ©ã‚¦ã‚¶é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆä¸Šã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’ç·¨é›†å¯èƒ½
- ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå®¹æ˜“
- ãƒãƒ¼ãƒ ã§ã®å”æ¥­ãŒå¯èƒ½

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•:**
è©³ç´°ã¯ [GOOGLE_SHEETS_SETUP.md](./GOOGLE_SHEETS_SETUP.md) ã‚’ã”è¦§ãã ã•ã„ã€‚

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 2. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173` ã‚’é–‹ãã¾ã™ã€‚

### 3. ãƒ“ãƒ«ãƒ‰

```bash
npm run build
```

### 4. ãƒ“ãƒ«ãƒ‰ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```bash
npm run preview
```

## ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¨­å®š

### LocalStorageã®ã¿ä½¿ç”¨ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

ç’°å¢ƒå¤‰æ•°ã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®LocalStorageã«ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

### Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½¿ç”¨

1. `.env.example` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ `.env` ã‚’ä½œæˆ
2. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ[GOOGLE_SHEETS_SETUP.md](./GOOGLE_SHEETS_SETUP.md) å‚ç…§ï¼‰
3. `.env` ã«ä»¥ä¸‹ã‚’è¨­å®šï¼š

```env
VITE_GOOGLE_SHEETS_API_URL=https://script.google.com/macros/s/XXX/exec
```

4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•
5. è¨­å®šç”»é¢ï¼ˆâš™ï¸ï¼‰ã§ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãƒˆã‚°ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆ

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆï¼š**
- è¨­å®šç”»é¢ã«å¸¸ã«ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒãŒè¡¨ç¤ºã•ã‚Œã¾ã™
- ãƒˆã‚°ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸â‡”ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’å³åº§ã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™
- åˆ‡ã‚Šæ›¿ãˆæ™‚ã«ãƒšãƒ¼ã‚¸ãŒè‡ªå‹•çš„ã«ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã™
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€äº‹å‰ã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«Google Sheets APIã®URLã‚’è¨­å®šã—ã¦ãã ã•ã„

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
src/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ components/      # Svelteã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ GachaScreen.svelte
â”‚   â”‚   â”œâ”€â”€ SettingsScreen.svelte
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ services/        # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ prizeService.ts
â”‚   â”‚   â”œâ”€â”€ googleSheetsService.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ stores/          # Svelteã‚¹ãƒˆã‚¢
â”‚   â”‚   â””â”€â”€ prizes.svelte.ts
â”‚   â”œâ”€â”€ types/           # TypeScriptå‹å®šç¾©
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ config.ts        # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”œâ”€â”€ App.svelte           # ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ main.ts              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

google-apps-script/
server/
â””â”€â”€ Code.gs              # Google Apps Scriptã‚³ãƒ¼ãƒ‰
```

## ãƒ†ã‚¹ãƒˆ

```bash
npm test
```

## Recommended IDE Setup

[VS Code](https://code.visualstudio.com/) + [Svelte](https://marketplace.visualstudio.com/items?itemName=svelte.svelte-vscode).

## Need an official Svelte framework?

Check out [SvelteKit](https://github.com/sveltejs/kit#readme), which is also powered by Vite. Deploy anywhere with its serverless-first approach and adapt to various platforms, with out of the box support for TypeScript, SCSS, and Less, and easily-added support for mdsvex, GraphQL, PostCSS, Tailwind CSS, and more.

## Technical considerations

**Why use this over SvelteKit?**

- It brings its own routing solution which might not be preferable for some users.
- It is first and foremost a framework that just happens to use Vite under the hood, not a Vite app.

This template contains as little as possible to get started with Vite + TypeScript + Svelte, while taking into account the developer experience with regards to HMR and intellisense. It demonstrates capabilities on par with the other `create-vite` templates and is a good starting point for beginners dipping their toes into a Vite + Svelte project.

Should you later need the extended capabilities and extensibility provided by SvelteKit, the template has been structured similarly to SvelteKit so that it is easy to migrate.

**Why `global.d.ts` instead of `compilerOptions.types` inside `jsconfig.json` or `tsconfig.json`?**

Setting `compilerOptions.types` shuts out all other types not explicitly listed in the configuration. Using triple-slash references keeps the default TypeScript setting of accepting type information from the entire workspace, while also adding `svelte` and `vite/client` type information.

**Why include `.vscode/extensions.json`?**

Other templates indirectly recommend extensions via the README, but this file allows VS Code to prompt the user to install the recommended extension upon opening the project.

**Why enable `allowJs` in the TS template?**

While `allowJs: false` would indeed prevent the use of `.js` files in the project, it does not prevent the use of JavaScript syntax in `.svelte` files. In addition, it would force `checkJs: false`, bringing the worst of both worlds: not being able to guarantee the entire codebase is TypeScript, and also having worse typechecking for the existing JavaScript. In addition, there are valid use cases in which a mixed codebase may be relevant.

**Why is HMR not preserving my local component state?**

HMR state preservation comes with a number of gotchas! It has been disabled by default in both `svelte-hmr` and `@sveltejs/vite-plugin-svelte` due to its often surprising behavior. You can read the details [here](https://github.com/rixo/svelte-hmr#svelte-hmr).

If you have state that's important to retain within a component, consider creating an external store which would not be replaced by HMR.

```ts
// store.ts
// An extremely simple external store
import { writable } from 'svelte/store'
export default writable(0)
```
